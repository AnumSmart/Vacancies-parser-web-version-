# Rate limiting для API Gateway

# Зоны для rate limiting (в памяти)
limit_req_zone $binary_remote_addr zone=auth_limit:10m rate=5r/s;
limit_req_zone $binary_remote_addr zone=search_limit:10m rate=10r/s;

# Статус при превышении лимита
limit_req_status 429;  # Too Many Requests