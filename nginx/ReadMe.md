Сценарий 1: Первый визит пользователя

1. Пользователь → http://api.example.com (вводит без https)
2. Nginx (порт 80): "Иди на https://api.example.com" (301 редирект)
3. Пользователь → https://api.example.com (переходит автоматически)
4. Nginx (порт 443):
   - Проверяет SSL сертификат
   - Устанавливает безопасное соединение
   - Отвечает "API Gateway"

Сценарий 2: Поисковый запрос

1. Пользователь → https://api.example.com/api/search?q=golang
2. Nginx (порт 443):
   - Проверяет SSL
   - Смотрит: "Ага, это /api/search/"
   - Отправляет в другой конфиг (02-gateway.conf)
   - Тот проверяет токен и отправляет в Search Service
